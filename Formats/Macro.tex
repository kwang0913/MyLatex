%%%% delimiters
\DeclarePairedDelimiter\parens{\lparen}{\rparen}
\DeclarePairedDelimiter\bracks{\lbrack}{\rbrack}
\DeclarePairedDelimiter\braces{\lbrace}{\rbrace}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\norm{\lVert}{\rVert}
\DeclarePairedDelimiter\angles{\langle}{\rangle}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

%%%% math operators naming
\DeclareMathOperator*{\argmax}{\textnormal{argmax}}
\DeclareMathOperator*{\argmin}{\textnormal{argmin}}
\DeclareMathOperator{\tr}{\textnormal{tr}}
\DeclareMathOperator{\eig}{\textnormal{eig}}
\DeclareMathOperator{\sgn}{\textnormal{sgn}}
% \let\det\relax % "Undefine" \det
% \DeclareMathOperator{\det}{\textnormal{det}} % already defined in mathtools
\DeclareMathOperator{\diag}{\textnormal{diag}}
\DeclareMathOperator{\rank}{\textnormal{rank}}
\DeclareMathOperator{\Vol}{\textnormal{Vol}}   % volume
\DeclareMathOperator{\Surf}{\textnormal{Surf}} % surface area

%%%% Transforms! -- requires mathtools package
\newcommand*{\LapTrans}{\xleftrightarrow{\mathcal{Z}}}
\newcommand*{\ZTrans}{\xleftrightarrow{\mathcal{L}}}
\newcommand*{\CTFS}{\xleftrightarrow{\textnormal{CTFS}}}
\newcommand*{\CTFT}{\xleftrightarrow{\textnormal{CTFT}}}
\newcommand*{\DTFS}{\xleftrightarrow{\textnormal{DTFS}}}
\newcommand*{\DTFT}{\xleftrightarrow{\textnormal{DTFT}}}

%%%% vector font
\let\oldvec\vec
\renewcommand*{\vec}[1]{\mathbf{#1}}
\newcommand*{\mtx}[1]{\mathbf{#1}}
\let\oldcomplement\complement
\renewcommand*{\complement}{^{\mathsf{c}}}
% \newcommand*{\trn}{\!^{\!\intercal}}
\newcommand*{\trn}{\!^{\mathsf{T}}}
% \newcommand*{\coj}{\!^{\dag}} % Text Mode Symbol, Should not be used
% \newcommand*{\coj}{\!^{\dagger}}
\newcommand*{\coj}{\!^{\mathsf{H}}}
\newcommand*{\inv}{^{-1}}

%%%% number systems
\DeclareMathOperator{\R}{\mathbb{R}}
\DeclareMathOperator{\C}{\mathbb{C}}
\DeclareMathOperator{\N}{\mathbb{N}}
\DeclareMathOperator{\Z}{\mathbb{Z}}
\DeclareMathOperator{\F}{\mathbb{F}}
\DeclareMathOperator{\Q}{\mathbb{Q}}

%%%% STATISTICS AND PROBABILITY
\DeclareMathOperator{\Var}{\textnormal{Var}}
\DeclareMathOperator{\Cov}{\textnormal{Cov}}
\DeclareMathOperator{\Corr}{\textnormal{Corr}}
\DeclareMathOperator{\MSE}{\textnormal{MSE}}
\DeclareMathOperator{\MSD}{\textnormal{MSD}}
\DeclareMathOperator{\NSD}{\textnormal{NSD}}

\newcommand*{\E}[1]{\mathbb{E}\bracks*{#1}}
\newcommand*{\condE}[2]{\mathbb{E}\bracks*{#1 \mid #2}}
\renewcommand*{\P}[1]{\mathbb{P}\parens*{#1}}
\newcommand*{\condP}[2]{\mathbb{P}\parens*{#1 \mid #2}}

\DeclareMathOperator{\Bern}{\mathsf{Ber}}
\DeclareMathOperator{\Unif}{\mathsf{Unif}}
\DeclareMathOperator{\Expv}{\mathsf{Exp}}
\DeclareMathOperator{\Poi}{\mathsf{Poisson}}
\DeclareMathOperator{\Gamv}{\mathsf{Gamma}}
\DeclareMathOperator{\Dirv}{\mathsf{Dir}}
\DeclareMathOperator{\Mult}{\mathsf{Mult}}
\DeclareMathOperator{\Beta}{\mathsf{Beta}}
\DeclareMathOperator{\Geomv}{\mathsf{Geo}}
\DeclareMathOperator{\Binomv}{\mathsf{Bin}}
\DeclareMathOperator{\NegBinomv}{\mathsf{NB}}
\DeclareMathOperator{\Lap}{\mathsf{Lap}}
\DeclareMathOperator{\Gaus}{\mathsf{N}}
\DeclareMathOperator{\Weibull}{\mathsf{Weibull}}
\DeclareMathOperator{\Erlang}{\mathsf{Erlang}}

%%%% Special norms and linear algebra stuff
\newcommand*{\subgnorm}[1]{\norm*{#1}_{\psi_2}}
\newcommand*{\subexpnorm}[1]{\norm*{#1}_{\psi_1}}
\newcommand*{\frobnorm}[1]{\norm*{#1}_{\textnormal{F}}}
\newcommand*{\opnorm}[1]{\norm*{#1}_{\textnormal{Op}}}
\newcommand*{\Lipnorm}[1]{\norm*{#1}_{\textnormal{Lip}}}

%%%% Some Abbreviations
\newcommand*{\diff}{\mathop{}\!\mathrm{d}}
\newcommand*{\set}[1]{\braces*{\,#1\,}}
\newcommand*{\iidsim}{\stackrel{\textnormal{i.i.d.}}{\sim}}
\newcommand*{\myrule}{\rule{1.5in}{0.1mm}}

%%%% CVPR ABBREVIATIONS
% Add a period to the end of an abbreviation unless there's one already,
% then \xspace.
\makeatletter
\DeclareRobustCommand\onedot{\futurelet\@let@token\@onedot}
\def\@onedot{\ifx\@let@token.\else.\null\fi\xspace}

\def\eg{\emph{e.g}\onedot} \def\Eg{\emph{E.g}\onedot}
\def\ie{\emph{i.e}\onedot} \def\Ie{\emph{I.e}\onedot}
\def\cf{\emph{cf}\onedot} \def\Cf{\emph{Cf}\onedot}
\def\etc{\emph{etc}\onedot}
\def\vs{\emph{vs}\onedot}
\def\wrt{w.r.t\onedot}
\def\dof{d.o.f\onedot}
\def\iid{i.i.d\onedot}
\def\wolog{w.l.o.g\onedot}
\def\etal{\emph{et al}\onedot}
\def\whp{w.h.p\onedot}
\def\aka{\emph{a.k.a}\onedot}
\makeatother

%%%% A box fill the rest of the page
\newtcolorbox{stretchbox}[1][]{
    height fill,
    % sharp corners,
    colback=white,
    colframe=black,
    #1
    }

%%%% Box Environment
\newtcolorbox{problem}[1]{
    breakable,
% Set box style
    % sidebyside,
    % sidebyside align=top,
% Dimensions and layout
    % width=\textwidth,
    toptitle=2.5pt,
    bottomtitle=2.5pt,
    % righthand width=0.20\textwidth,
% Coloring
    colbacktitle=white,
    coltitle=black,
    colback=white,
    colframe=black,
% Title formatting
    fonttitle=\large\bfseries,
    title={#1 \hfill Grade:\hspace*{0.15\paperwidth}\ }, %\! works as a placeholder
}

%%%% Problem Environment
% \newenvironment{problem}[1]{
%     \begin{prob}{#1}
% }
% {
%     %
%     % \tcblower
%     % \centering
%     % \textit{\scriptsize\bfseries Faculty Comments}
%     \end{prob}
% }

\newtcolorbox{solution}[1]{
    breakable,
    colback=black!3,
    fonttitle=\bfseries,
    title={#1},
}